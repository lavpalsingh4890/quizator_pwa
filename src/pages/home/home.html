<ion-header>
  <ion-navbar>
    <ion-grid>
      <ion-row>
        <ion-col col-2>
          <button ion-button menuToggle icon-only>
            <ion-icon ios="ios-menu" md="md-menu"></ion-icon>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-only>
            <ion-icon ios="ios-notifications" md="md-notifications"></ion-icon>
          </button>
        </ion-col>
        <ion-col>

          <button ion-button icon-only>
            <ion-icon ios="ios-chatbubbles" md="md-chatbubbles"></ion-icon>
          </button>
        </ion-col>
        <ion-col>

          <button ion-button icon-only>
            <ion-icon ios="ios-shuffle" md="md-shuffle"></ion-icon>
          </button>
        </ion-col>
        <ion-col>

          <button ion-button icon-only>
            <ion-icon name="search"></ion-icon>
          </button>
        </ion-col>
        <ion-col>

          <button ion-button icon-only>
            <ion-icon ios="ios-person" md="md-person"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row>


      </ion-row>
    </ion-grid>

  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let post of posts; let m_id = index">
      <ion-row>
        <div class="post_image_container" *ngIf="post.post_media_id">
          <img class="post_image" id="post_media_{{m_id}}"  src="{{post.post_media_id.mediaUrl}}" />
        </div>
      </ion-row>
      <div class="post_title_container" *ngIf="post.title">
      <ion-row padding>
        <ion-col text-center text-wrap>
          <p class="post_title" id="post_title_{{m_id}}">{{post.title}}</p>
        </ion-col>
      </ion-row>
      </div>
      <div id="post_option_container" *ngIf="post.options">
        <ion-row justify-content-center align-items-center>
          <ion-col align-self-stretch col-6 *ngFor="let post_option of post.options; let idx = index"
            [class.selected_correct]="post_option === selectedOption && idx === currentSelected && is_correct" [class.selected_incorrect]="post_option === selectedOption && idx === currentSelected && !is_correct"
            (click)="tapOption(post,post_option,idx)" text-wrap text-center>
            <p class="post_option" id="post_option_{{m_id}}_{{idx}}" padding>
              {{post_option.option}}
            </p>
          </ion-col>
        </ion-row>
      </div>
      <div id="post_category_container" *ngIf="post.post_category_id">
        <ion-row align-items-center>
          
          <ion-col col-3>
              <div id="post_web_search_container" *ngIf="post.search_tag && post_viewed.has(post.post_id)">
              <button ion-button (click)="searchOnWeb(post.search_tag)" clear>
                  Read more on web
                </button>
                </div>
          </ion-col>
          <ion-col col-7 text-end>
            <p *ngIf="post.post_category_id && post.post_category_id.category"> {{post.post_category_id.category}}</p>
          </ion-col>
          <ion-col col-2>
            <ion-avatar item-end>
              <img *ngIf="post.post_category_id && post.post_category_id.category_media" src="{{post.post_category_id.category_media}}">
            </ion-avatar>
          </ion-col>
        </ion-row>
      </div>
      <div id="post_desc_container" *ngIf="post.post_desc && post_viewed.has(post.post_id)">
        <ion-row>
          <p>
            {{post.post_desc}}
          </p>
        </ion-row>
      </div>
     
    </ion-item>
  </ion-list>
</ion-content>